'use strict';

var util = require('../src/util');

describe('util', function () {

  describe('pick', function () {
    var pick = util.pick;

    it('generates picker for given indices', function () {
      expect(pick(0)([23, 42])).to.eql(23);
      expect(pick(0, 2)([23, 24, 42])).to.eql([23, 42]);
    });
  });

  describe('concat', function () {
    var concat = util.concat;

    it('flattens the given arrays', function () {
      expect(concat([23, 42])).to.eql([23, 42]);
      expect(concat([23, [42, 53]])).to.eql([23, 42, 53]);
    });

    it('skips null values', function () {
      expect(concat([23, 42, null, 13, null])).to.eql([23, 42, 13]);
      expect(concat([[23, 42], null, 13, null])).to.eql([23, 42, 13]);
    });

    it('picks only given indices', function () {
      expect(concat([23, 42], [1])).to.eql([42]);
      expect(concat([23, 42, 53], [0, 2])).to.eql([23, 53]);
    });
  });
});